
# Сравнение RabbitMQ и Apache Kafka

## Сравнительная таблица

| Характеристика                  | **RabbitMQ**                          | **Apache Kafka**                           |
|----------------------------------|----------------------------------------|--------------------------------------------|
| **Тип системы**                  | Брокер сообщений (message broker)     | Распределённая платформа потоковой передачи данных (streaming platform) |
| **Подход к обработке сообщений** | Push-модель                            | Pull-модель                                 |
| **Гарантии доставки**            | At most once, at least once            | At least once, exactly once (с доп. настройкой) |
| **Сохранение сообщений**         | До получения                           | Долговременное хранение (настраиваемое)     |
| **Очереди и темы**               | Очереди, exchange'ы                    | Топики и партиции                           |
| **Поддержка очередей**           | Да                                     | Нет                                         |
| **Производительность**           | Средняя                                | Высокая                                     |
| **Порядок сообщений**            | В пределах очереди                     | В пределах партиции                         |
| **Повторное воспроизведение**    | Нет                                    | Да                                          |
| **Протоколы**                    | AMQP, MQTT, STOMP                      | Kafka TCP-протокол, Kafka Connect           |
| **Управление сообщениями**       | TTL, приоритеты, гибкая маршрутизация | Простая маршрутизация, высокая масштабируемость |
| **Скалируемость**                | Ограниченная                           | Отличная горизонтальная масштабируемость    |
| **Требования к хранилищу**       | Низкие                                 | Высокие                                     |

---

## Когда использовать **RabbitMQ**

**Подходит, если:**
- Нужно гарантировать быструю доставку сообщений между сервисами.
- Важна сложная маршрутизация сообщений (разные `exchange`-ы).
- Нагрузка средняя или ниже.
- Используются различные протоколы (AMQP, MQTT).
- Требуется *однократная* доставка сообщений без повторного чтения.

**Примеры использования:**
- Асинхронная коммуникация между микросервисами.
- Очереди для отправки email/SMS/уведомлений.
- Интеграция с внешними API и вебхуками.

---

## Когда использовать **Apache Kafka**

**Подходит, если:**
- Обрабатываются большие потоки данных в реальном времени.
- Важна возможность повторного чтения сообщений.
- Требуется долговременное хранение событий.
- Нужна высокая производительность и масштабируемость.
- Интеграция с системами аналитики, big data, ML и пр.

**Примеры использования:**
- Стриминг пользовательских действий на сайте (clickstream).
- Обработка финансовых транзакций и логов.
- Построение real-time аналитики и мониторинга.
- Event sourcing и CQRS архитектуры.
